<%= form_for(@state, html: {id: "new_state"}) do |f| %>
    <% if @state.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@state.errors.count, "error") %> prohibited this state from being saved:</h2>

          <ul>
            <% @state.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="field">
      <b>Zustand:</b><br/>
      <%= f.text_field :condition %>
    </div>
    <div class="actions">
      <%= f.submit "Status speichern" %>
    </div>

    <% @back = link_to 'Zurück', states_path %>
<% end %>

<script>

    $(document).ready(function () {
        <% form = "#new_state" %>
        $("<%= "#{form}" %>").submit(function () {
            $form = $(this)

            var testvar = document.getElementById("state_condition");
            if (testvar.value == "") {
                alert("Es dürfen keine Status ohne eine Bedingung erstellt werden")
                return false;
            }
        })
    });
</script>
